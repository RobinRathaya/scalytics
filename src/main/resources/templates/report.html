<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8"/>
	<title>Scalytics Load Test Report</title>
	<style>
		body { font-family: Arial, sans-serif; margin: 40px; }
		h1, h2, h3 { color: #2e6c80; }
		table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
		table, th, td { border: 1px solid #ddd; }
		th, td { padding: 8px; text-align: left; }
		th { background-color: #f2f2f2; }
		.section { margin-bottom: 40px; }
		.chart { text-align: center; margin-top: 20px; }
		.note { font-size: 12px; color: gray; }
	</style>
</head>
<body>
<h1>Scalytics Performance Test Report</h1>

<div class="section">
	<h2>Executive Summary</h2>
	<p th:text="${summary}">Load test summary will appear here.</p>
</div>

<div class="section">
	<h2>Test Configuration</h2>
	<ul>
		<li><strong>Users:</strong> <span th:text="${userCount}"></span></li>
		<li><strong>Spawn Rate:</strong> <span th:text="${spawnRate}"></span> users/sec</li>
		<li><strong>Duration:</strong> <span th:text="${duration}"></span> seconds</li>
		<li><strong>Instance Type:</strong> <span th:text="${instanceType}"></span></li>
		<li><strong>Start Time:</strong> <span th:text="${startTime}"></span></li>
		<li><strong>End Time:</strong> <span th:text="${endTime}"></span></li>
	</ul>
</div>

<div class="section">
	<h2>Key Findings</h2>
	<ul>
		<li><strong>Peak CPU Utilization:</strong> <span th:text="${peakCpu}"></span>%</li>
		<li><strong>Max Users Reached:</strong> <span th:text="${maxUsers}"></span></li>
		<li><strong>Average Response Time:</strong> <span th:text="${avgResponseTime}"></span> ms</li>
		<li><strong>Total Requests:</strong> <span th:text="${totalRequests}"></span></li>
		<li><strong>Total Failures:</strong> <span th:text="${totalFailures}"></span></li>
	</ul>
</div>

<div class="section">
	<h2>Charts</h2>
	<div class="chart">
		<h3>Users vs CPU Utilization</h3>
		<img th:src="@{${combinedChartPath}}" alt="Combined Chart" width="600"/>
	</div>

	<div class="chart">
		<h3>EC2 CPU Utilization Over Time</h3>
		<img th:src="@{${ec2ChartPath}}" alt="EC2 Chart" width="600"/>
	</div>

	<div class="chart">
		<h3>Locust Response Time Over Time</h3>
		<img th:src="@{${locustChartPath}}" alt="Locust Chart" width="600"/>
	</div>
</div>

<div class="section">
	<h2>Recommendations</h2>
	<p th:text="${recommendations}">Performance recommendations will appear here.</p>
</div>

<div class="section">
	<h2>Conclusion</h2>
	<p th:text="${conclusion}">Conclusion text will be rendered here.</p>
</div>

<p class="note">This report was generated automatically from Scalytics Load Testing framework.</p>
</body>
</html>
